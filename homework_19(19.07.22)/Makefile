SERVER_BIN = server
SERVER_OBJECT = server.o
SERVER_HEADER = data.h
SERVER_CODE = server.c

CLIENT_BIN = client
CLIENT_OBJECT = client.o
CLIENT_HEADER = data.h
CLIENT_CODE = client.c

CC = gcc
CFLAGS = -g
LFLAGS = -lrt -pthread -lncurses

.PHONY: clean

all: $(SERVER_BIN) $(CLIENT_BIN)

$(SERVER_BIN): $(SERVER_OBJECT)
	$(CC) $(SERVER_OBJECT) -o $(SERVER_BIN) $(LFLAGS)

$(SERVER_OBJECT): $(SERVER_CODE) $(SERVER_HEADER)
	$(CC) $(SERVER_CODE) -c $(CFLAGS)

$(SERVER_HEADER): $(SERVER_HEADER)

$(CLIENT_BIN): $(CLIENT_OBJECT)
	$(CC) $(CLIENT_OBJECT) -o $(CLIENT_BIN) $(LFLAGS)

$(CLIENT_OBJECT): $(CLIENT_CODE) $(CLIENT_HEADER)
	$(CC) $(CLIENT_CODE) -c $(CFLAGS)

$(CLIENT_HEADER): $(CLIENT_HEADER)

clean:
	rm -rf *.o $(SERVER_BIN) $(CLIENT_BIN)
